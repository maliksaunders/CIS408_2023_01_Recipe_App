<!DOCTYPE html>
<html>
<head>
    <title>CAP food website</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="topnav">
        <a href="main.html">Home</a>
        <a class="login" href="#signup">Sign Up</a>
        <a class="login" href="index.html">Login</a>
    </div>
    <div class="main">
        <div class="flexbox">
            <div class="sidenav">
                <a href="search.html">Ingredient Search</a><br>
                <a href="#">Filter Types</a><br>
            </div>
            <div class="content">

                <div class="flex-container" id="flexCont">
                    <button class="btn active">Test</button>
                    <button class="btn">Chicken</button>
                    <button class="btn">Beef</button>
                    <button class="btn">Pork</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                    <button class="btn">Test</button>
                </div>   
            </div>
            <div class="rightbar" id="rightbarV">
                <h1 style="text-align: center;">Ingredients</h1>
                <h1 id="ingredients"></h1>
            </div>
        </div>
    </div>
    <script>

        var btnContainer = document.getElementById("flexCont");
        var rightbarVar = document.getElementById("rightbarV");
        var x = 0;


        function createButton (txt) {
            var closeBtn = document.createElement('button');
            var sideTxt = document.createElement('h2');

            closeBtn.setAttribute('class', 'closeBtn');
            closeBtn.setAttribute('id', 'closeBtn' + x);
            closeBtn.setAttribute('onclick', 'closeThis(' + x +')');
            closeBtn.textContent = 'X';

            sideTxt.setAttribute('class', 'sideTxt');
            sideTxt.setAttribute('id', 'sideTxt' + x);
            sideTxt.textContent = txt;
            
            rightbarVar.appendChild(closeBtn);
            rightbarVar.appendChild(sideTxt);

            x += 1;
        }

        function closeThis(num) {
            var txtNum = "sideTxt" + num;
            var btnNum = "closeBtn" + num;
            const abc = document.getElementById(txtNum);
            const def = document.getElementById(btnNum);
            abc.remove();
            def.remove();
        }

        var btns = btnContainer.getElementsByClassName("btn");
        for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener("click", function() {
                var current = document.getElementsByClassName("active");
                current[0].className = current[0].className.replace(" active", "");
                this.className += " active";
                var insertText = current[0].textContent;

                createButton(insertText);
            });
        };
    </script>
</body>